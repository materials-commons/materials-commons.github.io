<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>materials_commons.api.client &mdash; materials_commons.api 2.0b5 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> materials_commons.api
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/materials_commons/modules.html">``materials_commons.api`` Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../help.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">materials_commons.api</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Module code</a> &raquo;</li>
      <li>materials_commons.api.client</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for materials_commons.api.client</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Project</span><span class="p">,</span> <span class="n">Experiment</span><span class="p">,</span> <span class="n">Dataset</span><span class="p">,</span> <span class="n">Entity</span><span class="p">,</span> <span class="n">Activity</span><span class="p">,</span> <span class="n">Workflow</span><span class="p">,</span> <span class="n">User</span><span class="p">,</span> <span class="n">File</span><span class="p">,</span> <span class="n">GlobusUpload</span><span class="p">,</span> \
    <span class="n">GlobusDownload</span><span class="p">,</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Community</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">Searchable</span><span class="p">,</span> <span class="n">GlobusTransfer</span>
<span class="kn">from</span> <span class="nn">.query_params</span> <span class="kn">import</span> <span class="n">QueryParams</span>
<span class="kn">from</span> <span class="nn">.requests</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">http.client</span> <span class="k">as</span> <span class="nn">http_client</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="c1"># Python 2</span>
    <span class="kn">import</span> <span class="nn">httplib</span> <span class="k">as</span> <span class="nn">http_client</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">urllib3</span>

    <span class="n">urllib3</span><span class="o">.</span><span class="n">disable_warnings</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>


<div class="viewcode-block" id="MCAPIError"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.MCAPIError">[docs]</a><span class="k">class</span> <span class="nc">MCAPIError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MCAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="n">response</span></div>


<div class="viewcode-block" id="merge_dicts"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.merge_dicts">[docs]</a><span class="k">def</span> <span class="nf">merge_dicts</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">):</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="n">dict1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">merged</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dict2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">merged</span></div>


<div class="viewcode-block" id="Client"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client">[docs]</a><span class="k">class</span> <span class="nc">Client</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">apikey</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://materialscommons.org/api&quot;</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apikey</span> <span class="o">=</span> <span class="n">apikey</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="n">base_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raise_exception</span> <span class="o">=</span> <span class="n">raise_exception</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">apikey</span><span class="p">,</span>
            <span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit_remaining</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit_reset</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retry_after</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle_s</span> <span class="o">=</span> <span class="mf">0.0</span>

<div class="viewcode-block" id="Client.get_apikey"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_apikey">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_apikey</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://materialscommons.org/api&quot;</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">base_url</span> <span class="o">+</span> <span class="s2">&quot;/get_apitoken&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">form</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;api_token&quot;</span><span class="p">]</span></div>

<div class="viewcode-block" id="Client.login"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.login">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://materialscommons.org/api&quot;</span><span class="p">):</span>
        <span class="n">apikey</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">get_apikey</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">base_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Client</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">base_url</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.set_debug_on"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.set_debug_on">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_debug_on</span><span class="p">():</span>
        <span class="n">http_client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="o">.</span><span class="n">debuglevel</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">()</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="n">requests_log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests.packages.urllib3&quot;</span><span class="p">)</span>
        <span class="n">requests_log</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="n">requests_log</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Client.set_debug_off"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.set_debug_off">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_debug_off</span><span class="p">():</span>
        <span class="n">http_client</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="o">.</span><span class="n">debuglevel</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
        <span class="n">requests_log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;requests.packages.urllib3&quot;</span><span class="p">)</span>
        <span class="n">requests_log</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">requests_log</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">False</span></div>

    <span class="c1"># Server</span>
<div class="viewcode-block" id="Client.get_server_info"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_server_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_server_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets information about the materials commons server</span>
<span class="sd">        :return: server information</span>
<span class="sd">        :rtype Server</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Server</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/server/info&quot;</span><span class="p">))</span></div>

    <span class="c1"># Projects</span>
<div class="viewcode-block" id="Client.get_all_projects"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_projects">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_projects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of all the projects a user has access to</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: List of projects</span>
<span class="sd">        :rtype Project[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Project</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_project">[docs]</a>    <span class="k">def</span> <span class="nf">create_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new project for the authenticated user. Project name must be unique</span>
<span class="sd">        :param str name: Name of project</span>
<span class="sd">        :param CreateProjectRequest attrs: (optional) Additional attributes for the create request</span>
<span class="sd">        :return: The created project</span>
<span class="sd">        :rtype Project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="n">CreateProjectRequest</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/projects&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_project">[docs]</a>    <span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a project by its id</span>
<span class="sd">        :param int project_id: Project id for project</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The project</span>
<span class="sd">        :rtype Project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_project">[docs]</a>    <span class="k">def</span> <span class="nf">delete_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes a project</span>
<span class="sd">        :param int project_id: id of project to delete</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_project">[docs]</a>    <span class="k">def</span> <span class="nf">update_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the given project</span>
<span class="sd">        :param int project_id: Id of project to update</span>
<span class="sd">        :param UpdateProjectRequest attrs: The attributes to update on the project</span>
<span class="sd">        :return: The updated project</span>
<span class="sd">        :rtype Project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">),</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()))</span></div>

<div class="viewcode-block" id="Client.add_user_to_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.add_user_to_project">[docs]</a>    <span class="k">def</span> <span class="nf">add_user_to_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds user to project</span>
<span class="sd">        :param int project_id: Id of project to add user to</span>
<span class="sd">        :param int user_id: Id of user to add to project</span>
<span class="sd">        :return: The updated project</span>
<span class="sd">        :rtype Project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/add-user/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_id</span><span class="p">),</span> <span class="p">{}))</span></div>

<div class="viewcode-block" id="Client.remove_user_from_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.remove_user_from_project">[docs]</a>    <span class="k">def</span> <span class="nf">remove_user_from_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove user from project</span>
<span class="sd">        :param int project_id: Id of project to add user to</span>
<span class="sd">        :param int user_id: Id of user to add to project</span>
<span class="sd">        :return: The updated project</span>
<span class="sd">        :rtype Project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/remove-user/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_id</span><span class="p">),</span> <span class="p">{}))</span></div>

<div class="viewcode-block" id="Client.add_admin_to_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.add_admin_to_project">[docs]</a>    <span class="k">def</span> <span class="nf">add_admin_to_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds user as an admin to project</span>
<span class="sd">        :param int project_id: Id of project to add user to</span>
<span class="sd">        :param int user_id: Id of user to add to project</span>
<span class="sd">        :return: The updated project</span>
<span class="sd">        :rtype Project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/add-admin/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_id</span><span class="p">),</span> <span class="p">{}))</span></div>

<div class="viewcode-block" id="Client.remove_admin_from_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.remove_admin_from_project">[docs]</a>    <span class="k">def</span> <span class="nf">remove_admin_from_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes admin user from project</span>
<span class="sd">        :param int project_id: Id of project to add user to</span>
<span class="sd">        :param int user_id: Id of user to remove from project</span>
<span class="sd">        :return: The updated project</span>
<span class="sd">        :rtype Project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/remove-admin/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_id</span><span class="p">),</span> <span class="p">{}))</span></div>

    <span class="c1"># Experiments</span>
<div class="viewcode-block" id="Client.get_all_experiments"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_experiments">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_experiments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all experiments for a given project</span>
<span class="sd">        :param int project_id: The project id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: A list of experiments</span>
<span class="sd">        :rtype Experiment[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Experiment</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/experiments&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_experiment"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_experiment">[docs]</a>    <span class="k">def</span> <span class="nf">get_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get an experiment</span>
<span class="sd">        :param int experiment_id: The experiment id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The experiment</span>
<span class="sd">        :rtype Experiment</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Experiment</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/experiments/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">experiment_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_experiment"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_experiment">[docs]</a>    <span class="k">def</span> <span class="nf">update_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment_id</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update attributes of an experiment</span>
<span class="sd">        :param int experiment_id: The experiment id</span>
<span class="sd">        :param UpdateExperimentRequest attrs: Attributes to update</span>
<span class="sd">        :return: The updated experiment</span>
<span class="sd">        :rtype Experiment</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;experiment_id&quot;</span><span class="p">:</span> <span class="n">experiment_id</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Experiment</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/experiments/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">experiment_id</span><span class="p">),</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_experiment"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_experiment">[docs]</a>    <span class="k">def</span> <span class="nf">delete_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">experiment_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete experiment in project</span>
<span class="sd">        :param int project_id: The id of the project the experiment is in</span>
<span class="sd">        :param experiment_id: The experiment id</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/experiments/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">experiment_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_experiment"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_experiment">[docs]</a>    <span class="k">def</span> <span class="nf">create_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new experiment in a project</span>
<span class="sd">        :param int project_id: The id of the project the experiment is in</span>
<span class="sd">        :param str name: Name of experiment</span>
<span class="sd">        :param CreateExperimentRequest attrs: Additional attributes on the experiment</span>
<span class="sd">        :return: The created experiment</span>
<span class="sd">        :rtype Experiment</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="n">CreateExperimentRequest</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Experiment</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/experiments&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_experiment_workflows"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_experiment_workflows">[docs]</a>    <span class="k">def</span> <span class="nf">update_experiment_workflows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">experiment_id</span><span class="p">,</span> <span class="n">workflow_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggle whether an workflow is in the experiment</span>
<span class="sd">        :param int project_id: Id of project containing the experiment and workflow</span>
<span class="sd">        :param experiment_id: Id of experiment</span>
<span class="sd">        :param workflow_id: Id of workflow</span>
<span class="sd">        :return: The updated experiment</span>
<span class="sd">        :rtype Experiment</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;workflow_id&quot;</span><span class="p">:</span> <span class="n">workflow_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Experiment</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/experiments/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">experiment_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/workflows/selection&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

    <span class="c1"># Directories</span>
<div class="viewcode-block" id="Client.get_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_directory">[docs]</a>    <span class="k">def</span> <span class="nf">get_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a directory in the project</span>
<span class="sd">        :param int project_id: The id of the project the directory is in</span>
<span class="sd">        :param int directory_id: The directory id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The directory</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.list_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_directory">[docs]</a>    <span class="k">def</span> <span class="nf">list_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of all the files and directories in a given directory</span>
<span class="sd">        :param int project_id: The id of the project the directory is in</span>
<span class="sd">        :param int directory_id: The directory id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: A list of the files and directories in the given directory</span>
<span class="sd">        :rtype File[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/list&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.list_directory_by_path"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_directory_by_path">[docs]</a>    <span class="k">def</span> <span class="nf">list_directory_by_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of all the files and directories at given path</span>
<span class="sd">        :param int project_id: The id of the project the path is in</span>
<span class="sd">        :param str path:</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: A list of the files and directories in the given path</span>
<span class="sd">        :rtype File[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path_param</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)}</span>
        <span class="k">return</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/directories_by_path&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">path_param</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_directory">[docs]</a>    <span class="k">def</span> <span class="nf">create_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">parent_id</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new directory in project in the given directory</span>
<span class="sd">        :param int project_id: The id of the project the directory will be created in</span>
<span class="sd">        :param str name: Name of directory</span>
<span class="sd">        :param int parent_id: Parent directory id - The directory that this directory will be in</span>
<span class="sd">        :param CreateDirectoryRequest attrs: Additional attributes on the directory</span>
<span class="sd">        :return: The created directory</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="n">CreateDirectoryRequest</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;directory_id&quot;</span><span class="p">:</span> <span class="n">parent_id</span><span class="p">,</span> <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="n">form</span><span class="p">,</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/directories&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.move_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.move_directory">[docs]</a>    <span class="k">def</span> <span class="nf">move_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">to_directory_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Moves a directory into another directory</span>
<span class="sd">        :param int project_id: The project id that target and destination directories are in</span>
<span class="sd">        :param int directory_id: Id of directory to move</span>
<span class="sd">        :param int to_directory_id: Id of the destination directory</span>
<span class="sd">        :return: The directory that was moved</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;to_directory_id&quot;</span><span class="p">:</span> <span class="n">to_directory_id</span><span class="p">,</span> <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/move&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.rename_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.rename_directory">[docs]</a>    <span class="k">def</span> <span class="nf">rename_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rename a given directory</span>
<span class="sd">        :param int project_id: The project id that the directory is in</span>
<span class="sd">        :param int directory_id: The id of the directory being renamed</span>
<span class="sd">        :param name: The new name of the directory</span>
<span class="sd">        :return: The directory that was renamed</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/rename&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_directory">[docs]</a>    <span class="k">def</span> <span class="nf">delete_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Should not be used yet: Delete a directory only if the directory is empty</span>
<span class="sd">        :param int project_id: The project id containing the directory to delete</span>
<span class="sd">        :param int directory_id: The id of the directory to delete</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_directory">[docs]</a>    <span class="k">def</span> <span class="nf">update_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update attributes on a directory</span>
<span class="sd">        :param int project_id: The project id containing the directory</span>
<span class="sd">        :param int directory_id: The id of the directory to update</span>
<span class="sd">        :param attrs: Attributes to update</span>
<span class="sd">        :return: The updated directory</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">),</span> <span class="n">form</span><span class="p">))</span></div>

    <span class="c1"># Files</span>
<div class="viewcode-block" id="Client.get_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_file">[docs]</a>    <span class="k">def</span> <span class="nf">get_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get file in project</span>
<span class="sd">        :param int project_id: The id of the project containing the file</span>
<span class="sd">        :param int file_id: The id of the file</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The file</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_file_versions"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_file_versions">[docs]</a>    <span class="k">def</span> <span class="nf">get_file_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get versions for file in project (does not include file given)</span>
<span class="sd">        :param int project_id: The id of the project containing the file</span>
<span class="sd">        :param int file_id: The id of the file</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: File versions</span>
<span class="sd">        :rtype File[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/versions&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.set_as_active_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.set_as_active_file">[docs]</a>    <span class="k">def</span> <span class="nf">set_as_active_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set file as active version, changing current active file version to inactive</span>
<span class="sd">        :param int project_id: The id of the project containing the file</span>
<span class="sd">        :param int file_id: The id of the file</span>
<span class="sd">        :return: File</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/make_active&quot;</span><span class="p">,</span> <span class="p">{}))</span></div>

<div class="viewcode-block" id="Client.get_file_by_path"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_file_by_path">[docs]</a>    <span class="k">def</span> <span class="nf">get_file_by_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get file by path in project</span>
<span class="sd">        :param int project_id: The id of the project containing the file</span>
<span class="sd">        :param file_path: The path to the file</span>
<span class="sd">        :return: The file</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">file_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">),</span> <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/files/by_path&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_file">[docs]</a>    <span class="k">def</span> <span class="nf">update_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update attributes of a file</span>
<span class="sd">        :param project_id:</span>
<span class="sd">        :param file_id:</span>
<span class="sd">        :param UpdateFileRequest attrs: Attributes to update</span>
<span class="sd">        :return: The updated file</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;project_id&quot;</span><span class="p">,</span> <span class="n">project_id</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">),</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_file">[docs]</a>    <span class="k">def</span> <span class="nf">delete_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete a file in a project</span>
<span class="sd">        :param int project_id: The id of the project containing the file</span>
<span class="sd">        :param int file_id: The id of the file to delete</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.move_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.move_file">[docs]</a>    <span class="k">def</span> <span class="nf">move_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">to_directory_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Move file into a different directory</span>
<span class="sd">        :param int project_id: The project id of the file and the destination directory</span>
<span class="sd">        :param int file_id: The id of the file to move</span>
<span class="sd">        :param int to_directory_id: The id of the destination directory</span>
<span class="sd">        :return: The moved file</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;directory_id&quot;</span><span class="p">:</span> <span class="n">to_directory_id</span><span class="p">,</span> <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/move&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.rename_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.rename_file">[docs]</a>    <span class="k">def</span> <span class="nf">rename_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rename a file</span>
<span class="sd">        :param int project_id: The project id of the file to rename</span>
<span class="sd">        :param int file_id: The id of the file to rename</span>
<span class="sd">        :param str name: The files new name</span>
<span class="sd">        :return: The rename file</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/rename&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.download_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.download_file">[docs]</a>    <span class="k">def</span> <span class="nf">download_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Download a file</span>
<span class="sd">        :param int project_id: The project id containing the file to download</span>
<span class="sd">        :param int file_id: The id of the file to download</span>
<span class="sd">        :param str to: path including file name to download file to</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/download&quot;</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.download_file_by_path"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.download_file_by_path">[docs]</a>    <span class="k">def</span> <span class="nf">download_file_by_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Download a file by path</span>
<span class="sd">        :param int project_id: The project id containing the file to download</span>
<span class="sd">        :param str path: The path in the project of the file</span>
<span class="sd">        :param str to: path including file name to download file to</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_by_path</span><span class="p">(</span><span class="n">project_id</span><span class="p">,</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">project_id</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.upload_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.upload_file">[docs]</a>    <span class="k">def</span> <span class="nf">upload_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uploads a file to a project</span>
<span class="sd">        :param int project_id: The project to upload file to</span>
<span class="sd">        :param int directory_id: The directory in the project to upload the file into</span>
<span class="sd">        :param str file_path: path of file to upload</span>
<span class="sd">        :return: The created file</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">files</span> <span class="o">=</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/upload&quot;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="Client.upload_bytes"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.upload_bytes">[docs]</a>    <span class="k">def</span> <span class="nf">upload_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="n">files</span> <span class="o">=</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">upload_raw</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/upload/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">f</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

    <span class="c1"># Entities</span>
<div class="viewcode-block" id="Client.get_all_entities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_entities">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all entities in a project</span>
<span class="sd">        :param int project_id: The id of the project</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The list of entities</span>
<span class="sd">        :rtype Entity[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Entity</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/entities&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_entity"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_entity">[docs]</a>    <span class="k">def</span> <span class="nf">get_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get an entity</span>
<span class="sd">        :param int project_id: The id of the project containing the entity</span>
<span class="sd">        :param int entity_id: The id of the entity</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The entity</span>
<span class="sd">        :rtype Entity</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Entity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/entities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">entity_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_entity"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_entity">[docs]</a>    <span class="k">def</span> <span class="nf">create_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">activity_id</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new entity in the project</span>
<span class="sd">        :param project_id: The id of the project to create entity in</span>
<span class="sd">        :param str name: The entity name</span>
<span class="sd">        :param activity_id: The activity to associated the samples as initially coming from</span>
<span class="sd">        :param CreateEntityRequest request: Attributes of the entity</span>
<span class="sd">        :param attrs: Array of dicts of the form {&quot;name&quot;: &quot;&quot;, &quot;unit&quot;: &quot;&quot;, value: dict | bool | int | float | str}</span>
<span class="sd">        :return: The created entity</span>
<span class="sd">        :rtype Entity</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">request</span><span class="p">:</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">CreateEntityRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span>
            <span class="s2">&quot;attributes&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="p">,</span>
            <span class="s2">&quot;activity_id&quot;</span><span class="p">:</span> <span class="n">activity_id</span><span class="p">,</span>
        <span class="p">},</span> <span class="n">request</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Entity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/entities&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_entity"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_entity">[docs]</a>    <span class="k">def</span> <span class="nf">delete_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete an entity</span>
<span class="sd">        :param int project_id: The id of the project containing the entity</span>
<span class="sd">        :param int entity_id: The entity id</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/entities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">entity_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_entity_state"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_entity_state">[docs]</a>    <span class="k">def</span> <span class="nf">create_entity_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">activity_id</span><span class="p">,</span> <span class="n">current</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a new state to an existing entity.</span>
<span class="sd">        :param int project_id: The id of the project containing the entity</span>
<span class="sd">        :param int entity_id: The id of the entity to associate the state with</span>
<span class="sd">        :param in activity_id: The id of the activity that created the state</span>
<span class="sd">        :param bool current: Whether to mark the state as the current state</span>
<span class="sd">        :param attrs: Array of dicts of the form {&quot;name&quot;: &quot;&quot;, &quot;unit&quot;: &quot;&quot;, value: dict | bool | int | float | str}</span>
<span class="sd">        :return: Entity</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="n">current</span><span class="p">,</span> <span class="s2">&quot;attributes&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Entity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/entities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/activities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
            <span class="n">activity_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/create-entity-state&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

    <span class="c1"># Activities</span>
<div class="viewcode-block" id="Client.get_all_activities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_activities">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all activities in a project</span>
<span class="sd">        :param int project_id: The id of the project</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: List of activities</span>
<span class="sd">        :rtype Activity[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Activity</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/activities&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_activity"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_activity">[docs]</a>    <span class="k">def</span> <span class="nf">get_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">activity_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get an activity</span>
<span class="sd">        :param int project_id: The id of the project containing the activity</span>
<span class="sd">        :param int activity_id: The id of the activity</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The activity</span>
<span class="sd">        :rtype Activity</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Activity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/activies/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">activity_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_activity"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_activity">[docs]</a>    <span class="k">def</span> <span class="nf">create_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new activity in the project</span>
<span class="sd">        :param project_id: The project to create the activity int</span>
<span class="sd">        :param str name: Name of activity</span>
<span class="sd">        :param CreateActivityRequest request: Attributes on the activity</span>
<span class="sd">        :param attrs: Array of dicts of the form {&quot;name&quot;: &quot;&quot;, &quot;unit&quot;: &quot;&quot;, value: dict | bool | int | float | str}</span>
<span class="sd">        :return: The activity to create</span>
<span class="sd">        :rtype Activity</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">request</span><span class="p">:</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">CreateActivityRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;attributes&quot;</span><span class="p">:</span> <span class="n">attrs</span><span class="p">},</span> <span class="n">request</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Activity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/activies&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_activity"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_activity">[docs]</a>    <span class="k">def</span> <span class="nf">delete_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">activity_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes an activity</span>
<span class="sd">        :param project_id: The id of the project containing the activity</span>
<span class="sd">        :param activity_id: The id of the activity to delete</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/activies/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">activity_id</span><span class="p">))</span></div>

    <span class="c1"># Datasets</span>
<div class="viewcode-block" id="Client.get_all_datasets"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_datasets">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_datasets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all datasets in a project</span>
<span class="sd">        :param int project_id: The project id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The list of datasets</span>
<span class="sd">        :rtype Dataset[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_all_published_datasets"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_published_datasets">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_published_datasets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all published datasets</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The list of published datasets</span>
<span class="sd">        :rtype Dataset[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_published_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_published_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">get_published_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get published dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_published_dataset_files"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_published_dataset_files">[docs]</a>    <span class="k">def</span> <span class="nf">get_published_dataset_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get files for a published dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :rtype: File[]</span>
<span class="sd">        :return: The files</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_published_dataset_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_published_dataset_directory">[docs]</a>    <span class="k">def</span> <span class="nf">get_published_dataset_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a directory in a published dataset</span>
<span class="sd">        :param int dataset_id: The id of the published dataset the directory is in</span>
<span class="sd">        :param int directory_id: The directory id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The directory</span>
<span class="sd">        :rtype File</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.list_published_dataset_directory"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_published_dataset_directory">[docs]</a>    <span class="k">def</span> <span class="nf">list_published_dataset_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">directory_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of all the files and directories in a given published dataset directory</span>
<span class="sd">        :param int dataset_id: The id of the dataset the directory is in</span>
<span class="sd">        :param int directory_id: The directory id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: A list of the files and directories in the given directory</span>
<span class="sd">        :rtype File[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/directories/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">directory_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/list&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.list_published_dataset_directory_by_path"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_published_dataset_directory_by_path">[docs]</a>    <span class="k">def</span> <span class="nf">list_published_dataset_directory_by_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of all the files and directories at given path</span>
<span class="sd">        :param int dataset_id: The id of the dataset the path is in</span>
<span class="sd">        :param str path:</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: A list of the files and directories in the given path</span>
<span class="sd">        :rtype File[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path_param</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)}</span>
        <span class="k">return</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/directories_by_path&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">path_param</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_published_dataset_entities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_published_dataset_entities">[docs]</a>    <span class="k">def</span> <span class="nf">get_published_dataset_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get entities for a published dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :rtype: Entity[]</span>
<span class="sd">        :return: The entities</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Entity</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/entities&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_published_dataset_activities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_published_dataset_activities">[docs]</a>    <span class="k">def</span> <span class="nf">get_published_dataset_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get activities for a published dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :rtype: Activity[]</span>
<span class="sd">        :return: The activities</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Activity</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/activities&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.search_published_data"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.search_published_data">[docs]</a>    <span class="k">def</span> <span class="nf">search_published_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Search published datasets for matching string</span>
<span class="sd">        :param str search_str: string to search on</span>
<span class="sd">        :return: List of matches</span>
<span class="sd">        :rtype: Searchable[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search&quot;</span><span class="p">:</span> <span class="n">search_str</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Searchable</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/published/data/search&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.import_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.import_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">import_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">directory_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Launches a job to import a dataset into a project. The import will complete at some</span>
<span class="sd">        point in the future. There isn&#39;t currently a way to query the import status.</span>
<span class="sd">        :param int dataset_id: The dataset id to import</span>
<span class="sd">        :param int project_id: A project id the user has access to</span>
<span class="sd">        :param string directory_name: The top level directory to import the dataset into (will be created)</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;directory&quot;</span><span class="p">:</span> <span class="n">directory_name</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/import&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.get_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">get_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get dataset in a project</span>
<span class="sd">        :param int project_id: The project id containing the dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :return: The dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_dataset_files"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_dataset_files">[docs]</a>    <span class="k">def</span> <span class="nf">get_dataset_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get files for a dataset</span>
<span class="sd">        :param int project_id: The project id containing the dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :rtype: File[]</span>
<span class="sd">        :return: The files</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">File</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_dataset_entities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_dataset_entities">[docs]</a>    <span class="k">def</span> <span class="nf">get_dataset_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get entities for a dataset</span>
<span class="sd">        :param int project_id: The project id containing the dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :rtype: Entity[]</span>
<span class="sd">        :return: The entities</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Entity</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/entities&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_dataset_activities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_dataset_activities">[docs]</a>    <span class="k">def</span> <span class="nf">get_dataset_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get activities for a dataset</span>
<span class="sd">        :param int project_id: The project id containing the dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :param params:</span>
<span class="sd">        :rtype: Activity[]</span>
<span class="sd">        :return: The activities</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Activity</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/activities&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">delete_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete an unpublished dataset</span>
<span class="sd">        :param int project_id: The project id containing the dataset</span>
<span class="sd">        :param int dataset_id: The id of the dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_dataset_file_selection"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_dataset_file_selection">[docs]</a>    <span class="k">def</span> <span class="nf">update_dataset_file_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">file_selection</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the file selection for a dataset</span>
<span class="sd">        :param int project_id: Project id containing dataset</span>
<span class="sd">        :param int dataset_id: Id of dataset</span>
<span class="sd">        :param file_selection: {</span>
<span class="sd">            &quot;include_file&quot;: str,</span>
<span class="sd">            &quot;remove_include_file&quot;: str,</span>
<span class="sd">            &quot;exclude_file&quot;: str,</span>
<span class="sd">            &quot;remove_exclude_file&quot;: str,</span>
<span class="sd">            &quot;include_dir&quot;: str,</span>
<span class="sd">            &quot;remove_include_dir&quot;: str,</span>
<span class="sd">            &quot;exclude_dir&quot;: str,</span>
<span class="sd">            &quot;remove_exclude_dir&quot;: str</span>
<span class="sd">        }</span>
<span class="sd">        :return: The updated dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="n">form</span><span class="p">,</span> <span class="n">file_selection</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/selection&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.change_dataset_file_selection"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.change_dataset_file_selection">[docs]</a>    <span class="k">def</span> <span class="nf">change_dataset_file_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">file_selection</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the file selection for a dataset to match the passed in dataset</span>
<span class="sd">        :param int project_id: Project id containing dataset</span>
<span class="sd">        :param int dataset_id: Id of dataset</span>
<span class="sd">        :param file_selection: {</span>
<span class="sd">            &quot;include_files&quot;: array,</span>
<span class="sd">            &quot;exclude_files&quot;: array,</span>
<span class="sd">            &quot;include_dirs&quot;: array,</span>
<span class="sd">            &quot;exclude_dirs&quot;: array,</span>
<span class="sd">        }</span>
<span class="sd">        :return: The updated dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        :param project_id:</span>
<span class="sd">        :param dataset_id:</span>
<span class="sd">        :param file_selection:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/change_file_selection&quot;</span><span class="p">,</span>
                     <span class="n">file_selection</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_dataset_activities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_dataset_activities">[docs]</a>    <span class="k">def</span> <span class="nf">update_dataset_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">activity_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggle whether an activity is in a dataset</span>
<span class="sd">        :param int project_id: Project id containing dataset and activity</span>
<span class="sd">        :param int dataset_id: Id of dataset</span>
<span class="sd">        :param int activity_id: Id of activity</span>
<span class="sd">        :return: The updated dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;activity_id&quot;</span><span class="p">:</span> <span class="n">activity_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/activities/selection&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_dataset_entities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_dataset_entities">[docs]</a>    <span class="k">def</span> <span class="nf">update_dataset_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggle whether an entity is in a dataset</span>
<span class="sd">        :param int project_id: Project id containing dataset and entity</span>
<span class="sd">        :param int dataset_id: Id of dataset</span>
<span class="sd">        :param int entity_id: Id of entity</span>
<span class="sd">        :return: The updated dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;entity_id&quot;</span><span class="p">:</span> <span class="n">entity_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/entities&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_dataset_workflows"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_dataset_workflows">[docs]</a>    <span class="k">def</span> <span class="nf">update_dataset_workflows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">workflow_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggle whether an workflow is in a dataset</span>
<span class="sd">        :param int project_id: Project id containing dataset and workflow</span>
<span class="sd">        :param int dataset_id: Id of dataset</span>
<span class="sd">        :param int workflow_id: Id of workflow</span>
<span class="sd">        :return: The updated dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;workflow_id&quot;</span><span class="p">:</span> <span class="n">workflow_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/workflows&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.publish_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.publish_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">publish_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Publish a dataset</span>
<span class="sd">        :param int project_id: The id of the project containing the dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :return: The dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/publish&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.unpublish_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.unpublish_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">unpublish_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unpublish an published dataset</span>
<span class="sd">        :param int project_id: The id of the project containing the dataset</span>
<span class="sd">        :param int dataset_id: The dataset id</span>
<span class="sd">        :return: The dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/unpublish&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">create_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new dataset in a project</span>
<span class="sd">        :param int project_id: The project to create the dataset in</span>
<span class="sd">        :param string name: The name of the dataset</span>
<span class="sd">        :param CreateDatasetRequest attrs: Attributes of the dataset</span>
<span class="sd">        :return: The created dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="n">CreateDatasetRequest</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.update_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.update_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">update_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update an existing dataset</span>
<span class="sd">        :param int project_id: The project to create the dataset in</span>
<span class="sd">        :param int dataset_id: The id of the dataset</span>
<span class="sd">        :param str name: The name of the dataset (doesn&#39;t need to be different)</span>
<span class="sd">        :param UpdateDatasetRequest attrs: The attributes to update</span>
<span class="sd">        :return: The updated dataset</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="n">UpdateDatasetRequest</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">),</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.assign_doi_to_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.assign_doi_to_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">assign_doi_to_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assign DOI to existing dataset</span>
<span class="sd">        :param int project_id: The project to create the dataset in</span>
<span class="sd">        :param int dataset_id: The id of the dataset</span>
<span class="sd">        :return: The updated dataset with DOI</span>
<span class="sd">        :rtype Dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/assign_doi&quot;</span><span class="p">,</span> <span class="p">{}))</span></div>

<div class="viewcode-block" id="Client.download_published_dataset_zipfile"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.download_published_dataset_zipfile">[docs]</a>    <span class="k">def</span> <span class="nf">download_published_dataset_zipfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Download the zipfile for a published dataset</span>
<span class="sd">        :param int dataset_id: The id of the published dataset</span>
<span class="sd">        :param str to: The path including the file name to write the download to</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/download_zipfile&quot;</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.download_published_dataset_file"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.download_published_dataset_file">[docs]</a>    <span class="k">def</span> <span class="nf">download_published_dataset_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Download file from a published dataset</span>
<span class="sd">        :param int dataset_id: The id of the published dataset</span>
<span class="sd">        :param int file_id: The id of the file in the dataset</span>
<span class="sd">        :param str to: The path including the file name to write the download to</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;/published/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/download&quot;</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.check_file_in_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.check_file_in_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">check_file_in_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">file_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if file is in the dataset selection</span>
<span class="sd">        :param int project_id: project dataset and file are in</span>
<span class="sd">        :param int dataset_id: dataset to check file_selection against</span>
<span class="sd">        :param int file_id: file to check</span>
<span class="sd">        :return: {&#39;in_dataset&#39;: True} or {&#39;in_dataset&#39;: False}</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
            <span class="n">file_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/check_selection&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.check_file_by_path_in_dataset"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.check_file_by_path_in_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">check_file_by_path_in_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if file path is in the dataset selection. Throws an error if the file_path isn&#39;t in the project.</span>
<span class="sd">        :param int project_id: project dataset and file_path are in</span>
<span class="sd">        :param int dataset_id: data to check file_selection against</span>
<span class="sd">        :param str file_path: file_path to check against dataset file_selection</span>
<span class="sd">        :return: {&#39;in_dataset&#39;: True} or {&#39;in_dataset&#39;: False}</span>
<span class="sd">        :exception if file_path doesn&#39;t exist in project</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file_path&quot;</span><span class="p">:</span> <span class="n">file_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/check_select_by_path&quot;</span><span class="p">,</span>
                         <span class="n">form</span><span class="p">)</span></div>

    <span class="c1"># Globus</span>
<div class="viewcode-block" id="Client.create_globus_upload_request"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_globus_upload_request">[docs]</a>    <span class="k">def</span> <span class="nf">create_globus_upload_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new globus request in the given project</span>
<span class="sd">        :param int project_id: The project id for the upload</span>
<span class="sd">        :param name: The name of the request</span>
<span class="sd">        :return: The globus request</span>
<span class="sd">        :rtype GlobusUpload</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">GlobusUpload</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/globus/uploads&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_globus_upload_request"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_globus_upload_request">[docs]</a>    <span class="k">def</span> <span class="nf">delete_globus_upload_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">globus_upload_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete an existing globus upload request</span>
<span class="sd">        :param int project_id:</span>
<span class="sd">        :param int globus_upload_id:</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/globus/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">globus_upload_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/uploads&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.finish_globus_upload_request"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.finish_globus_upload_request">[docs]</a>    <span class="k">def</span> <span class="nf">finish_globus_upload_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">globus_upload_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Mark a globus upload request as finished</span>
<span class="sd">        :param int project_id: The project id for the upload</span>
<span class="sd">        :param int globus_upload_id: The id of the globus upload</span>
<span class="sd">        :return: The globus upload</span>
<span class="sd">        :rtype GlobusUpload</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">GlobusUpload</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/globus/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">globus_upload_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/uploads/complete&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_all_globus_upload_requests"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_globus_upload_requests">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_globus_upload_requests</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all globus uploads in a project</span>
<span class="sd">        :param int project_id: The project id</span>
<span class="sd">        :return: List of globus uploads</span>
<span class="sd">        :rtype GlobusUpload[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GlobusUpload</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/globus/uploads&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_globus_download_request"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_globus_download_request">[docs]</a>    <span class="k">def</span> <span class="nf">create_globus_download_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a globus download request for a project</span>
<span class="sd">        :param int project_id:</span>
<span class="sd">        :param str name: The name of the download request</span>
<span class="sd">        :return: The globus download</span>
<span class="sd">        :rtype GlobusDownload</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">project_id</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">GlobusDownload</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/globus/downloads&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_globus_download_request"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_globus_download_request">[docs]</a>    <span class="k">def</span> <span class="nf">delete_globus_download_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">globus_download_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete an existing globus download request</span>
<span class="sd">        :param int project_id: The id of the project containing the download request</span>
<span class="sd">        :param int globus_download_id: The id of the globus download to delete</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/globus/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">globus_download_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/downloads&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.get_all_globus_download_requests"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_globus_download_requests">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_globus_download_requests</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all globus download requests for a project</span>
<span class="sd">        :param int project_id: The project</span>
<span class="sd">        :return: List of all globus downloads</span>
<span class="sd">        :rtype GlobusDownload[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GlobusDownload</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/globus/downloads&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_globus_download_request"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_globus_download_request">[docs]</a>    <span class="k">def</span> <span class="nf">get_globus_download_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">globus_download_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a globus download</span>
<span class="sd">        :param int project_id: The id of the project containing the globus download</span>
<span class="sd">        :param int globus_download_id: The globus download id</span>
<span class="sd">        :return: The globus download</span>
<span class="sd">        :rtype GlobusDownload</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GlobusDownload</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/globus/downloads/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">globus_download_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.open_globus_transfer"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.open_globus_transfer">[docs]</a>    <span class="k">def</span> <span class="nf">open_globus_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open a globus transfer request for current user in project. If one is already</span>
<span class="sd">        active then it returns the already active request.</span>
<span class="sd">        :param int project_id: The id of the project associated with this globus transfer</span>
<span class="sd">        :return: The globus transfer</span>
<span class="sd">        :rtype GlobusTransfer</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GlobusTransfer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/globus/open&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.close_globus_transfer"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.close_globus_transfer">[docs]</a>    <span class="k">def</span> <span class="nf">close_globus_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Closes an existing globus transfer. If there isn&#39;t an open transfer for the user in project then</span>
<span class="sd">        does nothing and returns success</span>
<span class="sd">        :param int project_id: The id of the project to close globus transfer for the current user</span>
<span class="sd">        :return: None</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_no_value</span><span class="p">(</span><span class="s2">&quot;/projects/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/globus/close&quot;</span><span class="p">)</span></div>

    <span class="c1"># Users</span>
<div class="viewcode-block" id="Client.get_user_by_email"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_user_by_email">[docs]</a>    <span class="k">def</span> <span class="nf">get_user_by_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a user by their email</span>
<span class="sd">        :param string email: email address of user to lookup</span>
<span class="sd">        :return: The user</span>
<span class="sd">        :rtype User</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">User</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users/by-email/&quot;</span> <span class="o">+</span> <span class="n">email</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.list_users"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_users">[docs]</a>    <span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List users of Materials Commons</span>
<span class="sd">        :return: List of users</span>
<span class="sd">        :rtype User[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">User</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

    <span class="c1"># Communities</span>
<div class="viewcode-block" id="Client.create_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_community">[docs]</a>    <span class="k">def</span> <span class="nf">create_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new community owned by the user.</span>
<span class="sd">        :param str name: Name of community</span>
<span class="sd">        :param CreateCommunityRequest attrs: (optional) Additional attributes for the create request</span>
<span class="sd">        :return: The created community</span>
<span class="sd">        :rtype Community</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="n">CreateCommunityRequest</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Community</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/communities&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_all_public_communities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_public_communities">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_public_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all public communities</span>
<span class="sd">        :rtype Community[]</span>
<span class="sd">        :return: List of public communities</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Community</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/communities/public&#39;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_all_my_communities"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_all_my_communities">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_my_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all communities owned by user</span>
<span class="sd">        :rtype Community[]</span>
<span class="sd">        :return: List of communities</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Community</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/communities&#39;</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_community">[docs]</a>    <span class="k">def</span> <span class="nf">get_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">community_id</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a commmunity</span>
<span class="sd">        :param int community_id: The id of the community to get</span>
<span class="sd">        :param params: Query specific parameters</span>
<span class="sd">        :rtype Community</span>
<span class="sd">        :return: The Community</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Community</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">),</span> <span class="n">params</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.add_dataset_to_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.add_dataset_to_community">[docs]</a>    <span class="k">def</span> <span class="nf">add_dataset_to_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">community_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a dataset to a community. The dataset must have been published.</span>
<span class="sd">        :param int dataset_id:</span>
<span class="sd">        :param int community_id:</span>
<span class="sd">        :rtype Community</span>
<span class="sd">        :return: The community with the dataset</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Community</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/add&quot;</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.remove_dataset_from_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.remove_dataset_from_community">[docs]</a>    <span class="k">def</span> <span class="nf">remove_dataset_from_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">community_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove a dataset from a community.</span>
<span class="sd">        :param int dataset_id:</span>
<span class="sd">        :param int community_id:</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/datasets/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.upload_file_to_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.upload_file_to_community">[docs]</a>    <span class="k">def</span> <span class="nf">upload_file_to_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">community_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        TODO: A file has other attributes such as description and summary</span>
<span class="sd">        Uploads a file to a community</span>
<span class="sd">        :param str file_path: path of file to upload</span>
<span class="sd">        :param int community_id: The community to upload the file to</span>
<span class="sd">        :return: The community</span>
<span class="sd">        :rtype Community</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Community</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/upload&quot;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_file_from_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_file_from_community">[docs]</a>    <span class="k">def</span> <span class="nf">delete_file_from_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">community_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes file from the community and deletes the file on the system.</span>
<span class="sd">        :param int file_id: The file to delete</span>
<span class="sd">        :param int community_id: The community to delete it from</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.create_link_in_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.create_link_in_community">[docs]</a>    <span class="k">def</span> <span class="nf">create_link_in_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">community_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a link to a community</span>
<span class="sd">        :param int community_id: The community to add the link to</span>
<span class="sd">        :param str name: name to show for url</span>
<span class="sd">        :param str url: url to add</span>
<span class="sd">        :param CreateLinkRequest attrs: additional attrs</span>
<span class="sd">        :return: The community</span>
<span class="sd">        :rtype Community</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">attrs</span> <span class="o">=</span> <span class="n">CreateLinkRequest</span><span class="p">()</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">({</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span> <span class="n">attrs</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">Community</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/links&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.delete_link_from_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_link_from_community">[docs]</a>    <span class="k">def</span> <span class="nf">delete_link_from_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link_id</span><span class="p">,</span> <span class="n">community_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete a link from a community and remove it from the system.</span>
<span class="sd">        :param int link_id: The link to remove</span>
<span class="sd">        :param int community_id: The community to delete the link from</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/links/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">link_id</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.list_tags_in_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_tags_in_community">[docs]</a>    <span class="k">def</span> <span class="nf">list_tags_in_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">community_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all the unique tags across all the published datasets in a community</span>
<span class="sd">        :param int community_id: The community to list the tags for</span>
<span class="sd">        :return: The list of tags</span>
<span class="sd">        :rtype Tag[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/tags&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.get_published_datasets_for_author"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_published_datasets_for_author">[docs]</a>    <span class="k">def</span> <span class="nf">get_published_datasets_for_author</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">author</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all published datasets for an author</span>
<span class="sd">        :param str author: Author name string</span>
<span class="sd">        :return: List of datasets author is on</span>
<span class="sd">        :rtype Dataset[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="n">author</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/published/authors/search&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.get_published_datasets_for_tag"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_published_datasets_for_tag">[docs]</a>    <span class="k">def</span> <span class="nf">get_published_datasets_for_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all published datasets tagged with tag</span>
<span class="sd">        :param str tag: tag to use</span>
<span class="sd">        :return: List of datasets tagged with tag</span>
<span class="sd">        :rtype Dataset[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">tag</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/published/tags/search&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">))</span></div>

<div class="viewcode-block" id="Client.list_authors_in_community"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_authors_in_community">[docs]</a>    <span class="k">def</span> <span class="nf">list_authors_in_community</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">community_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all unique authors across all the published datasets in a community</span>
<span class="sd">        :param int community_id: The community to list the authors for</span>
<span class="sd">        :return: The list of authors</span>
<span class="sd">        :rtype string[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/communities/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">community_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/authors&quot;</span><span class="p">)</span></div>

    <span class="c1"># Tags</span>
<div class="viewcode-block" id="Client.list_tags_for_published_datasets"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_tags_for_published_datasets">[docs]</a>    <span class="k">def</span> <span class="nf">list_tags_for_published_datasets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all tags used in published datasets</span>
<span class="sd">        :return: List of tags</span>
<span class="sd">        :rtype Tag[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Tag</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/tags&quot;</span><span class="p">))</span></div>

    <span class="c1"># Authors</span>
<div class="viewcode-block" id="Client.list_published_authors"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.list_published_authors">[docs]</a>    <span class="k">def</span> <span class="nf">list_published_authors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all published authors</span>
<span class="sd">        :return: List of authors</span>
<span class="sd">        :rtype User[]</span>
<span class="sd">        :raises MCAPIError</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/published/authors&quot;</span><span class="p">)</span></div>

    <span class="c1"># MQL</span>
<div class="viewcode-block" id="Client.mql_load_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.mql_load_project">[docs]</a>    <span class="k">def</span> <span class="nf">mql_load_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/queries/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/load-project&quot;</span><span class="p">,</span> <span class="p">{})</span></div>

<div class="viewcode-block" id="Client.mql_reload_project"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.mql_reload_project">[docs]</a>    <span class="k">def</span> <span class="nf">mql_reload_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/queries/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/load-project&quot;</span><span class="p">,</span> <span class="p">{})</span></div>

<div class="viewcode-block" id="Client.mql_execute_query"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.mql_execute_query">[docs]</a>    <span class="k">def</span> <span class="nf">mql_execute_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_id</span><span class="p">,</span> <span class="n">statement</span><span class="p">,</span> <span class="n">select_processes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">select_samples</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mql_load_project</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span>
        <span class="n">form</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;statement&quot;</span><span class="p">:</span> <span class="n">statement</span><span class="p">,</span>
            <span class="s2">&quot;select_processes&quot;</span><span class="p">:</span> <span class="n">select_processes</span><span class="p">,</span>
            <span class="s2">&quot;select_samples&quot;</span><span class="p">:</span> <span class="n">select_samples</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/queries/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/execute-query&quot;</span><span class="p">,</span> <span class="n">form</span><span class="p">)</span></div>

    <span class="c1"># Internal</span>

    <span class="k">def</span> <span class="nf">_throttle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_throttle_s</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_throttle_s</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_throttle_s</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_throttle_s</span><span class="p">)</span>

    <span class="c1"># request calls</span>
<div class="viewcode-block" id="Client.download"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.download">[docs]</a>    <span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">with</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">8192</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">chunk</span><span class="p">:</span>
                        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.upload"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.upload">[docs]</a>    <span class="k">def</span> <span class="nf">upload</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;files[]&#39;</span><span class="p">,</span> <span class="n">f</span><span class="p">)]</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_with_json</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.upload_raw"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.upload_raw">[docs]</a>    <span class="k">def</span> <span class="nf">upload_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="n">files</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;files[]&#39;</span><span class="p">,</span> <span class="n">f</span><span class="p">)]</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_with_json</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.get"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{},</span> <span class="n">other_params</span><span class="o">=</span><span class="p">{}):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;GET:&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">params_to_use</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="n">QueryParams</span><span class="o">.</span><span class="n">to_query_args</span><span class="p">(</span><span class="n">params</span><span class="p">),</span> <span class="n">other_params</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params_to_use</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_with_json</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.get_no_value"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.get_no_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_no_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;GET:&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.post"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.post">[docs]</a>    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;POST:&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_with_json</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.put"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.put">[docs]</a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PUT:&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_with_json</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.delete"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DELETE:&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.delete_with_value"><a class="viewcode-back" href="../../../reference/materials_commons/materials_commons.api.client.html#materials_commons.api.client.Client.delete_with_value">[docs]</a>    <span class="k">def</span> <span class="nf">delete_with_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urlpart</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_throttle</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">urlpart</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DELETE:&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_with_json</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
        <span class="c1"># try:</span>
        <span class="c1">#     import json</span>
        <span class="c1">#     print(&quot;-----------------------------&quot;)</span>
        <span class="c1">#     print(json.dumps(r.json(), indent=2))</span>
        <span class="c1">#     print(&quot;-----------------------------&quot;)</span>
        <span class="c1"># except:</span>
        <span class="c1">#     print(&quot;no json&quot;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">r</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_rate_limits_from_request</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">raise</span> <span class="n">MCAPIError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_with_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content-type&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;application/json&#39;</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_update_rate_limits_from_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x-ratelimit-limit&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit_remaining</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x-ratelimit-remaining&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit_remaining</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit_reset</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x-ratelimit-reset&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retry_after</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;retry-after&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rate_limit_remaining</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_throttle_s</span> <span class="o">=</span> <span class="mf">60.</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rate_limit_remaining</span> <span class="o">-</span> <span class="mf">1.</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_throttle_s</span> <span class="o">=</span> <span class="mf">0.0</span></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, PRISMS Center.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>