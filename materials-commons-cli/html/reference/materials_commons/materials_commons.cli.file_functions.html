

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>materials_commons.cli.file_functions module &mdash; materials_commons.cli 2.0b6 documentation</title>
  

  
  <link rel="stylesheet" href="../../site-static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../site-static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../site-static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../site-static/documentation_options.js"></script>
        <script src="../../site-static/jquery.js"></script>
        <script src="../../site-static/underscore.js"></script>
        <script src="../../site-static/doctools.js"></script>
        <script src="../../site-static/language_data.js"></script>
    
    <script type="text/javascript" src="../../site-static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="materials_commons.cli.functions module" href="materials_commons.cli.functions.html" />
    <link rel="prev" title="materials_commons.cli.exceptions module" href="materials_commons.cli.exceptions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> materials_commons.cli
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mc/index.html">``mc`` Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">``materials_commons.cli`` Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="materials_commons.cli.html">materials_commons.cli package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="materials_commons.cli.html#subpackages">Subpackages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="materials_commons.cli.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.exceptions.html">materials_commons.cli.exceptions module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">materials_commons.cli.file_functions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.functions.html">materials_commons.cli.functions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.globus.html">materials_commons.cli.globus module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.list_objects.html">materials_commons.cli.list_objects module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.parser.html">materials_commons.cli.parser module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.print_formatter.html">materials_commons.cli.print_formatter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.sqltable.html">materials_commons.cli.sqltable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.tree_functions.html">materials_commons.cli.tree_functions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.treedb.html">materials_commons.cli.treedb module</a></li>
<li class="toctree-l4"><a class="reference internal" href="materials_commons.cli.user_config.html">materials_commons.cli.user_config module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="materials_commons.cli.html#module-materials_commons.cli">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">materials_commons.cli</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">materials_commons</a> &raquo;</li>
        
          <li><a href="materials_commons.cli.html">materials_commons.cli package</a> &raquo;</li>
        
      <li>materials_commons.cli.file_functions module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../site-sources/reference/materials_commons/materials_commons.cli.file_functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-materials_commons.cli.file_functions">
<span id="materials-commons-cli-file-functions-module"></span><h1>materials_commons.cli.file_functions module<a class="headerlink" href="#module-materials_commons.cli.file_functions" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="materials_commons.cli.file_functions.check_file_selection">
<code class="sig-prename descclassname">materials_commons.cli.file_functions.</code><code class="sig-name descname">check_file_selection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">file_selection</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#check_file_selection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#materials_commons.cli.file_functions.check_file_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file or directory is selected in a dataset file selection, and why.</p>
<p class="rubric">Notes</p>
<p>A file is selected in a dataset’s file selection if it is listed explicitly in “include_files”. It is not selected if it is listed in “exclude_files”. If it is neither explicitly included or excluded, its parent directories are searched up to the project root directory to see if they are included or excluded. If the first parent directory listed is in “include_dirs”, then the file is also selected. If the first parent directory listed is in “exclude_dirs”, or if no parent directory is listed at all, the file is not selected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Materials Commons path of file or directory to check</p></li>
<li><p><strong>file_selection</strong> (<em>dict</em>) – <p>A file selection dict. Expected format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;include_files&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">file</span> <span class="n">paths</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">&quot;exclude_files&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">file</span> <span class="n">paths</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">&quot;include_dirs&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">directory</span> <span class="n">paths</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">&quot;exclude_dirs&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">directory</span> <span class="n">paths</span> <span class="o">...</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>(selected, selected_by)</em> – selected (bool): True if selected, False if not selected</p>
<p>selected_by (str or None): One of “(self)” if included/excluded explicitly; Else, “&lt;path&gt;”, the path of the first parent directory that is included or excluded; Otherwise, None, to indicate that it is not selected, but neither included nor excluded.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="materials_commons.cli.file_functions.get_by_path_if_exists">
<code class="sig-prename descclassname">materials_commons.cli.file_functions.</code><code class="sig-name descname">get_by_path_if_exists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">client</span></em>, <em class="sig-param"><span class="n">project_id</span></em>, <em class="sig-param"><span class="n">file_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#get_by_path_if_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#materials_commons.cli.file_functions.get_by_path_if_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Get file (or directory) by path in project, if it exists.
:param int project_id: The id of the project containing the file or directory
:param file_path: The Materials Commons path to the file or directory
:return: The file or None
:rtype File or None</p>
</dd></dl>

<dl class="py function">
<dt id="materials_commons.cli.file_functions.get_parent_id">
<code class="sig-prename descclassname">materials_commons.cli.file_functions.</code><code class="sig-name descname">get_parent_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_or_dir</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#get_parent_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#materials_commons.cli.file_functions.get_parent_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get file_or_dir.directory_id, else raise</p>
</dd></dl>

<dl class="py function">
<dt id="materials_commons.cli.file_functions.isdir">
<code class="sig-prename descclassname">materials_commons.cli.file_functions.</code><code class="sig-name descname">isdir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_or_dir</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#isdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#materials_commons.cli.file_functions.isdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="materials_commons.cli.file_functions.isfile">
<code class="sig-prename descclassname">materials_commons.cli.file_functions.</code><code class="sig-name descname">isfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_or_dir</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#isfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#materials_commons.cli.file_functions.isfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="materials_commons.cli.file_functions.make_local_abspath">
<code class="sig-prename descclassname">materials_commons.cli.file_functions.</code><code class="sig-name descname">make_local_abspath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">proj_local_path</span></em>, <em class="sig-param"><span class="n">mcpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#make_local_abspath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#materials_commons.cli.file_functions.make_local_abspath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="materials_commons.cli.file_functions.make_mcpath">
<code class="sig-prename descclassname">materials_commons.cli.file_functions.</code><code class="sig-name descname">make_mcpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">proj_local_path</span></em>, <em class="sig-param"><span class="n">local_abspath</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#make_mcpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#materials_commons.cli.file_functions.make_mcpath" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>proj_local_path</strong> (<em>str</em>) – Path to project, i.e. “/path/to/project”</p></li>
<li><p><strong>local_abspath</strong> (<em>str</em>) – Path to file in project, i.e. “/path/to/project/path/to/file”</p></li>
</ul>
</dd>
<dt class="field-even">Return str mcpath</dt>
<dd class="field-even"><p>Returns a Materials Commons style path, i.e. “/path/to/file”</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="materials_commons.cli.functions.html" class="btn btn-neutral float-right" title="materials_commons.cli.functions module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="materials_commons.cli.exceptions.html" class="btn btn-neutral float-left" title="materials_commons.cli.exceptions module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, PRISMS Center

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
