

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>materials_commons.cli.file_functions module &mdash; materials_commons.cli 2.1.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../site-static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../site-static/css/theme.css?v=e59714d7" />

  
      <script src="../../site-static/jquery.js?v=5d32c60e"></script>
      <script src="../../site-static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../site-static/documentation_options.js?v=179ab080"></script>
      <script src="../../site-static/doctools.js?v=9bcbadda"></script>
      <script src="../../site-static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../site-static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="materials_commons.cli.functions module" href="materials_commons.cli.functions.html" />
    <link rel="prev" title="materials_commons.cli.exceptions module" href="materials_commons.cli.exceptions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            materials_commons.cli
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mc/index.html">``mc`` Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">``materials_commons.cli`` Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="materials_commons.html">materials_commons namespace</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="materials_commons.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="materials_commons.cli.html">materials_commons.cli package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">materials_commons.cli</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">materials_commons</a></li>
          <li class="breadcrumb-item"><a href="materials_commons.html">materials_commons namespace</a></li>
          <li class="breadcrumb-item"><a href="materials_commons.cli.html">materials_commons.cli package</a></li>
      <li class="breadcrumb-item active">materials_commons.cli.file_functions module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../site-sources/reference/materials_commons/materials_commons.cli.file_functions.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-materials_commons.cli.file_functions">
<span id="materials-commons-cli-file-functions-module"></span><h1>materials_commons.cli.file_functions module<a class="headerlink" href="#module-materials_commons.cli.file_functions" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.check_file_selection">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">check_file_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_selection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#check_file_selection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.check_file_selection" title="Link to this definition"></a></dt>
<dd><p>Check if a file or directory is selected in a dataset file selection, and why.</p>
<p class="rubric">Notes</p>
<p>A file is selected in a dataset’s file selection if it is listed explicitly in “include_files”. It is not selected if it is listed in “exclude_files”. If it is neither explicitly included or excluded, its parent directories are searched up to the project root directory to see if they are included or excluded. If the first parent directory listed is in “include_dirs”, then the file is also selected. If the first parent directory listed is in “exclude_dirs”, or if no parent directory is listed at all, the file is not selected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Materials Commons path of file or directory to check</p></li>
<li><p><strong>file_selection</strong> (<em>dict</em>) – <p>A file selection dict. Expected format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;include_files&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">file</span> <span class="n">paths</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">&quot;exclude_files&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">file</span> <span class="n">paths</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">&quot;include_dirs&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">directory</span> <span class="n">paths</span> <span class="o">...</span><span class="p">],</span>
    <span class="s2">&quot;exclude_dirs&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">directory</span> <span class="n">paths</span> <span class="o">...</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><em>(selected, selected_by)</em> – selected (bool): True if selected, False if not selected</p>
<p>selected_by (str or None): One of “(self)” if included/excluded explicitly; Else, “&lt;path&gt;”, the path of the first parent directory that is included or excluded; Otherwise, None, to indicate that it is not selected, but neither included nor excluded.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.download_file_as_string">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">download_file_as_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#download_file_as_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.download_file_as_string" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.get_by_path_if_exists">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">get_by_path_if_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#get_by_path_if_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.get_by_path_if_exists" title="Link to this definition"></a></dt>
<dd><p>Get file (or directory) by path in project, if it exists.
:param int project_id: The id of the project containing the file or directory
:param file_path: The Materials Commons path to the file or directory
:return: The file or None
:rtype File or None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.get_parent_id">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">get_parent_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_or_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#get_parent_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.get_parent_id" title="Link to this definition"></a></dt>
<dd><p>Get file_or_dir.directory_id, else raise</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.isdir">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">isdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_or_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#isdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.isdir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.isfile">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">isfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_or_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#isfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.isfile" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.make_local_abspath">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">make_local_abspath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proj_local_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mcpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#make_local_abspath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.make_local_abspath" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.make_mcpath">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">make_mcpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proj_local_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_abspath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#make_mcpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.make_mcpath" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>proj_local_path</strong> (<em>str</em>) – Path to project, i.e. “/path/to/project”</p></li>
<li><p><strong>local_abspath</strong> (<em>str</em>) – Path to file in project, i.e. “/path/to/project/
path/to/file”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><em>mcpath (str)</em> –</p>
<dl class="simple">
<dt>Returns a Materials Commons style path, i.e. “/path/to/</dt><dd><p>file”</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="materials_commons.cli.exceptions.html#materials_commons.cli.exceptions.MCCLIException" title="materials_commons.cli.exceptions.MCCLIException"><strong>MCCLIException</strong></a><strong>, </strong><strong>if any path in clipaths is not within the local project</strong> – </p></li>
<li><p><strong>directory.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="materials_commons.cli.file_functions.path_in_project">
<span class="sig-prename descclassname"><span class="pre">materials_commons.cli.file_functions.</span></span><span class="sig-name descname"><span class="pre">path_in_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proj_local_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_abspath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../site-modules/materials_commons/cli/file_functions.html#path_in_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#materials_commons.cli.file_functions.path_in_project" title="Link to this definition"></a></dt>
<dd><p>Check if local path is within the local project directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>proj_local_path</strong> (<em>str</em>) – Path to project, i.e. “/path/to/project”</p></li>
<li><p><strong>local_abspath</strong> (<em>str</em>) – Path to file in project, i.e. “/path/to/project/
path/to/file”</p></li>
</ul>
</dd>
</dl>
<p>Returns: True, if local_abspath is within the local project directory.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="materials_commons.cli.exceptions.html" class="btn btn-neutral float-left" title="materials_commons.cli.exceptions module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="materials_commons.cli.functions.html" class="btn btn-neutral float-right" title="materials_commons.cli.functions module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, PRISMS Center.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>